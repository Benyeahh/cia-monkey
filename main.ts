controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (ammo > 0) {
        projectile = sprites.createProjectileFromSprite(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ........fff.....................
            ......fffef.....................
            .....f55fff.....................
            ....f555f.......................
            ....f555f.......................
            ...f5555f.......................
            ...f5555f.......................
            ...f55555f......................
            ...f555555ff....................
            ...f55555555ff..................
            ....f555555555ff................
            .....f555555555f................
            ......ff55555ff.................
            ........ffffff..................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, CIA_Monkey, 0, -100)
        music.play(music.melodyPlayable(music.pewPew), music.PlaybackMode.UntilDone)
        ammo += -1
        if (projectile.overlapsWith(Gorilla_Boss)) {
            sprites.destroy(Gorilla_Boss)
            info.changeScoreBy(1)
        }
        if (projectile.overlapsWith(GORILLA_COMMIES)) {
            sprites.destroy(GORILLA_COMMIES)
            info.changeScoreBy(1)
        }
    } else {
        music.play(music.melodyPlayable(music.knock), music.PlaybackMode.UntilDone)
    }
})
sprites.onOverlap(SpriteKind.Enemy, SpriteKind.Player, function (sprite, otherSprite) {
    sprites.destroy(sprite, effects.fire, 500)
    info.changeLifeBy(-1)
    music.play(music.melodyPlayable(music.smallCrash), music.PlaybackMode.UntilDone)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite2, otherSprite2) {
    ammo += 5
    sprites.destroy(ammo_yes)
    music.play(music.melodyPlayable(music.powerUp), music.PlaybackMode.UntilDone)
})
let projectile2: Sprite = null
let ammo_yes: Sprite = null
let GORILLA_COMMIES: Sprite = null
let Gorilla_Boss: Sprite = null
let projectile: Sprite = null
let ammo = 0
let CIA_Monkey: Sprite = null
scene.setBackgroundColor(8)
game.setDialogTextColor(14)
game.setDialogFrame(img`
    e e e e e e e e e e e e e e e 
    e e e d d d d d d d d d e e e 
    e e d d d d d d d d d d d e e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e d d d d d d d d d d d d d e 
    e e d d d d d d d d d d d e e 
    e e e d d d d d d d d d e e e 
    e e e e e e e e e e e e e e e 
    `)
game.showLongText(" C.I.A Monkey ", DialogLayout.Center)
game.splash("WASD & Arrow Keys to move ", "and space or \"A\" to fire.")
game.splash("Destroy Gorilla Soviet's", "for Monkey Democracy!")
scene.setBackgroundImage(img`
    1111111111ff77777777777777fffffff777777777777777ffffffff777777ffffffffffffff777777777777777777ffff77777777777777777777777777777777777777ffffffff9999911111111111
    11111111111ff777777777777777ffff777777777777777fffffffff7777777ffffffffffff7777fff77777777777ffffff77777777777777777777777777777777777777ffffff99999911111111111
    111111111111fffffffffffffffffffffffffffffffffffffffffff777777777fffffffff77777ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff999999999111111111
    11111111111111111111111111111111111111111111111111fffff7777777777ffffffff77777fff1111111111111111111111111111111111111111199999999999999999999999999991111111111
    11111111111111111111111111111111111111111111111111ffff777777777777ffffff7777777fff111111111111111111111111111111111111111199999999999999999999999999991111111111
    111111111111111111111111111111111111111111111111111fff777777777777777777777777777ff11111111111111111111111111111111111111999999999999999999999999999911111111111
    1111111111111111111111111111111111111111111111111111f77777777777777777777777777777ff1111111111111111111111111111111111119999999999999999999999999999111111111111
    1111111111111111111111111111111111111111111111111111ff77777777777777777777777777777f1111111111111111111111111111111111119999999999999999999999999999111111111111
    11111111111111111111111111111111111111111111111111111ff7777777777777777777777777777ff111111111111111111111111111111111119999999999999999999999999991111111111111
    111111111111111111111111111111111111111111111111111111ff7777777777777777777777777777ff11111111111111111111111111111111119999999999999999999999999111111111111111
    1111111111111111111111111111111111111111111111111111111f77777777777777777777777777777ff1111111111111111111111111111111199999999999999999999999991111111111111111
    1111111111111111111111111111111111111111111111111111111ff77777fffff77777777fff77777777ff111111111111111111111111111111199999999999999999999999911111111111111111
    11111111111111111111111111111111111111111111111111111111ff77fffffffff77777fffff77777777f111111111111111111111111111111999999999999999999999991111111111111111111
    111111111111111111111111111111111111111111111111111111111f7ffffffffff7777fffffff7777777ff11111111111111111111111111119999999999999999999999911111111111111111111
    111111111111111111111111111111111111111111111111111111111ffffffffffff777fff2fffff7777777ff1111111111111111111111111199999999999999999999999911111111111111111111
    1111111111111111111111111111111111111111111111111111111111ffffffffff7777fff22ffff77777777ff111111111111111111111111999999999999999999999999111111111111111111111
    11111111111111111111111111111111111111111111111111111111111fffffffff7777fff222ffff77227777f111111111111111111111111999999999999999999999999111111111111111111111
    111111111111111111111111111111111111111111111111111111111111fffffff77777ffff2222fff2222777ff11111111111111111111199999999999999999999999999111111111111111111111
    1111111111111111111111111111111111111111111111111111111111111fffff7777777fff222222222277777ff1111111111111111111999999999999999999999999999111111111111111111111
    11111111111111111111111111111111111111111111111111111111111111ffff7777777ff22222222222777777f1111111111111111119999999999999999999999999999111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111f7777777222222222222222777777ff111111111111111999999999999999999999999999999111111111111111111111
    111111111111111111111111111111111111111111111111111111111111111ff7777722222222222222277777777f111111111111999999999999999999999999999999999911111111111111111111
    1111111111111111111111111111111111111111111111111111111111111111fff77777222222222222227777777ff11111111999999999999999999999999999999999999991111111111111111111
    111111111111111111111111111111111111111111111111111111111111111ff1ff777777772222222222277777fff99999999999999999999999999999999999999999999999111111111111111111
    111111111111111111111111111111111111111111111111111111111111111f111fff777777722222222222777fffff9999999999999999999999999999999999999999999999911111111111111111
    111111111111111111111111111111111111111111111111111111111111111ff1111ff7777777722222222227ffffff9999999999999999999999999999999999999999999999991111111111111111
    1111111111111111111111111111111111111111111111111111111111111111ff1111ff777777722227777777ffffff9999999999999999999999999999999999999999999999999111111111111111
    11111111111111111111111111111111111111111111111111111111111111111ff1111ff7777722222777777ffffffff999999999999999999999999999999999999999999999999111111111111111
    111111111111111111111111111111111111111111111111111111111111111111fff1f1ff777772227777777ffffffff999999999999999999999999999999999999999999999999111111111111111
    91111111111111111111111111111111111111111111111111111111111111111111ff111ff77772227777777ffffffff999999999999999999999999999999999999999999999999111111111111111
    991111111111111111111111111111111111111111111111111111111111111111111fff11ff7777277777777ffffffff999999999999999999999999999999999999999999999999111111111111111
    99991111111111111111111111111111111111111111111111111111111111111111119ff11fff777777777777ffffffff99999999999999999999999999999999999999999999999111111111111111
    999999991111111111111111111111111111111111111111111111111111199999911199ff111ff77777777777ffffffff99999999999999999999999999999999999999999999999911111111111111
    9999999911111111111111111111111111111111111111111111111199999999999999999fff1fff77777777777ffffffff9999999999999999999999999999999999999999999999911111111111111
    999999999111111111111111111111111111111111111111111111999999999999999999999fff9ff77777777777ffff77f9999999999999999999999999999999999999999999999911111111111111
    99999999911111111111111111111111111111111111111111111999999999999999999999999999ff7777777777777777ff999999999999999999999999999999999999999999999911111111111111
    999999999911111111111111111111111111111111111111111119999999999999999999999999999ff7777777777777777f999999999999999999999999999999999999999999999991111111111111
    9999999999911111111111111111111111111111111111111111999999999999999999999999999999ff777777777777777f999999999999999999999999999999999999999999999999111111111111
    99999999999911111111111111111111111111111111111111199999999999999999999999999999999f777777777777777f999999999999999999999999999999999999999999999999991111111111
    99999999999999111111111111111111111111111111111111199999999999999999999999999999999ff777777777777fff999999999999999999999999999999999999999999999999991111111111
    999999999999999999911111111111111111111111111111119999999999999999999999999999999999fff777777777ff99999999999999999999999999999999999999999999999999991111111111
    99999999999999999999111111111111111111111111111119999999999999999999999999999999999999fff777777ff999999999999999999999999999999999999999999999999999991111111111
    9999999999999999999911111111111111111111111111111999999999999999999999999999999999999999ffffffff9999999999999999999999999999999999999999999999999999999111111111
    9999999999999999999991111111111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111
    9999999999999999999999111111111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111111
    9999999999999999999999991111111111111111111119999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111
    9999999999999999999999999111111111111111111199999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111111
    9999999999999999999999999911111111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111111
    9999999999999999999999999999111111111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999111111
    9999999999999999999999999999999111111999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999911111
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999991111
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
    `)
CIA_Monkey = sprites.create(assets.image`CIA Monkey`, SpriteKind.Player)
CIA_Monkey.setPosition(84, 98)
controller.moveSprite(CIA_Monkey)
info.setScore(0)
info.setLife(3)
ammo = 10
CIA_Monkey.setBounceOnWall(true)
game.onUpdateInterval(3500, function () {
    Gorilla_Boss = sprites.create(img`
        ...........227722...............
        .........2227777222.............
        ........222777777222............
        ......2222777777722222..........
        .....222227777777722222.........
        ....22222777777777222222........
        ...2222227777777777222222.......
        ...2222277777777777722222.......
        .....2eee..........eee2.........
        ......ee............ee..........
        ......e..............e..........
        ......e..............e..........
        ......e......7777....e..........
        ......e....7777277...e..........
        ......e...7777777....e..........
        ......e....ffffff....e..........
        ......ee..fffddfff..ee..........
        .......e..ffddddff..e...........
        .......22ffddddddff22...555f....
        .......2ffdd2dd2ddff2..5555.....
        .......2ffddddddddff2..ff.......
        .......2fffdffffdfff2..ff.......
        .......22ffddddddff22..5........
        ........2fffddddfff2............
        ..........fffddfff..............
        ...........ffffff...............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, SpriteKind.Enemy)
    Gorilla_Boss.setPosition(randint(0, scene.screenWidth()), 0)
    Gorilla_Boss.follow(CIA_Monkey, 20)
    projectile2 = sprites.createProjectileFromSprite(img`
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ........fff.....................
        ......fffef.....................
        .....f22fff.....................
        ....f222f.......................
        ....f222f.......................
        ...f2222f.......................
        ...f2222f.......................
        ...f22222f......................
        ...f222222ff....................
        ...f22222222ff..................
        ....f222222222ff................
        .....f222222222f................
        ......ff22222ff.................
        ........ffffff..................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, Gorilla_Boss, 0, 100)
})
game.onUpdateInterval(500, function () {
    GORILLA_COMMIES = sprites.create(img`
        ...........226622...............
        .........2226666222.............
        ........222666666222............
        ......2222666666622222..........
        .....222226666666622222.........
        ....22222666666666222222........
        ...2222226666666666222222.......
        ...2222266666666666622222.......
        .....2eee..........eee2.........
        ......ee............ee..........
        ......e.....777......e..........
        ......e....777777....e..........
        ......e...77777777...e..........
        ......e...77777777...e..........
        ......e..7777777777..e.....2....
        ......e..77ffffff77..e..........
        ......ee.efffddfffe.ee....2.....
        .......e.effddddffe.e....42.....
        .......22ffddddddff22....f......
        .......2ffddfddfddff2...f.......
        .......2ffddddddddff2...fff.....
        .......2fffdffffdfff2.fff1ff....
        .......22ffddddddff22.ffffff....
        ........2fffddddfff2...fff1f....
        ..........fffddfff......fff.....
        ...........ffffff...............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, SpriteKind.Enemy)
    GORILLA_COMMIES.setPosition(randint(0, scene.screenWidth()), 0)
    GORILLA_COMMIES.follow(CIA_Monkey, 30)
})
game.onUpdateInterval(3000, function () {
    ammo_yes = sprites.create(img`
        ...........225522...............
        .........2225555222.............
        ........222555555222............
        ......2222555555522222..........
        .....222225555555522222.........
        ....22222555555555222222........
        ...2222225555555555222222.......
        ...2222255555555555522222.......
        .....2eee..........eee2.........
        ......ee............ee..........
        ......e..............e..........
        ......e..............e..........
        ......ee..f.........ee..........
        .......eefef.......ee...........
        ........ef55f.....ee............
        .........f555ff..ee.............
        ..........f5555fff..............
        ...........f555555f.............
        ............ff55555f............
        ..............fffff.............
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        ................................
        `, SpriteKind.Food)
    ammo_yes.setPosition(randint(0, scene.screenWidth()), 0)
    ammo_yes.setVelocity(0, 32)
})
